<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>WAXP Staking Pool</title>
    <style>
        * {
            margin: 0;
            padding: 0;
            box-sizing: border-box;
        }

        body {
            font-family: 'Segoe UI', Tahoma, Geneva, Verdana, sans-serif;
            background: linear-gradient(135deg, #0a0e27 0%, #1a1f3a 100%);
            color: #fff;
            min-height: 100vh;
            overflow-x: hidden;
        }

        #particles-canvas {
            position: fixed;
            top: 0;
            left: 0;
            width: 100%;
            height: 100%;
            z-index: 0;
            pointer-events: none;
        }

        .container {
            position: relative;
            z-index: 1;
            max-width: 1200px;
            margin: 0 auto;
            padding: 40px 20px;
        }

        header {
            text-align: center;
            margin-bottom: 60px;
            animation: fadeInDown 1s ease-out;
        }

        h1 {
            font-size: 3.5em;
            background: linear-gradient(135deg, #3b82f6, #60a5fa, #93c5fd);
            -webkit-background-clip: text;
            -webkit-text-fill-color: transparent;
            background-clip: text;
            margin-bottom: 10px;
            text-shadow: 0 0 40px rgba(59, 130, 246, 0.3);
        }

        .subtitle {
            font-size: 1.2em;
            color: #93c5fd;
            opacity: 0.9;
        }

        .card {
            background: rgba(30, 41, 59, 0.8);
            backdrop-filter: blur(10px);
            border-radius: 20px;
            padding: 30px;
            margin-bottom: 30px;
            border: 1px solid rgba(59, 130, 246, 0.2);
            box-shadow: 0 8px 32px rgba(0, 0, 0, 0.3);
            animation: fadeInUp 1s ease-out;
            transition: transform 0.3s ease, box-shadow 0.3s ease;
        }

        .card:hover {
            transform: translateY(-5px);
            box-shadow: 0 12px 40px rgba(59, 130, 246, 0.4);
        }

        .card h2 {
            color: #60a5fa;
            margin-bottom: 20px;
            font-size: 2em;
            display: flex;
            align-items: center;
            gap: 10px;
        }

        .pool-grid {
            display: grid;
            grid-template-columns: repeat(auto-fit, minmax(250px, 1fr));
            gap: 20px;
            margin-top: 20px;
        }

        .pool-item {
            background: rgba(51, 65, 85, 0.5);
            padding: 20px;
            border-radius: 15px;
            border: 1px solid rgba(59, 130, 246, 0.3);
            transition: all 0.3s ease;
        }

        .pool-item:hover {
            background: rgba(51, 65, 85, 0.8);
            border-color: #60a5fa;
        }

        .pool-label {
            color: #93c5fd;
            font-size: 0.9em;
            margin-bottom: 5px;
            text-transform: uppercase;
            letter-spacing: 1px;
        }

        .pool-value {
            font-size: 1.4em;
            font-weight: bold;
            color: #fff;
            word-break: break-word;
        }

        .loading-indicator {
            display: inline-block;
            width: 20px;
            height: 20px;
            border: 3px solid rgba(59, 130, 246, 0.3);
            border-top-color: #60a5fa;
            border-radius: 50%;
            animation: spin 1s linear infinite;
        }

        @keyframes spin {
            to { transform: rotate(360deg); }
        }

        .mission-text {
            line-height: 1.8;
            color: #cbd5e1;
            font-size: 1.1em;
        }

        .funding-section {
            margin-top: 20px;
        }

        .funding-item {
            background: rgba(51, 65, 85, 0.5);
            padding: 20px;
            border-radius: 15px;
            margin-bottom: 15px;
            border-left: 4px solid #3b82f6;
        }

        .funding-percentage {
            display: inline-block;
            background: linear-gradient(135deg, #3b82f6, #60a5fa);
            padding: 5px 15px;
            border-radius: 20px;
            font-weight: bold;
            margin-bottom: 10px;
        }

        .funding-description {
            color: #cbd5e1;
            line-height: 1.6;
        }

        .pool-wrapper {
            margin-bottom: 40px;
        }

        .pool-main-header {
            background: rgba(51, 65, 85, 0.7);
            padding: 25px;
            border-radius: 20px;
            cursor: pointer;
            display: flex;
            justify-content: space-between;
            align-items: center;
            font-size: 1.5em;
            font-weight: 700;
            color: #60a5fa;
            transition: all 0.3s ease;
            user-select: none;
            border: 2px solid rgba(59, 130, 246, 0.4);
            margin-bottom: 20px;
        }

        .pool-main-header:hover {
            background: rgba(59, 130, 246, 0.2);
            border-color: #60a5fa;
        }

        .pool-main-arrow {
            transition: transform 0.3s ease;
            font-size: 0.8em;
        }

        .pool-main-header.active .pool-main-arrow {
            transform: rotate(180deg);
        }

        .pool-main-content {
            max-height: 0;
            overflow: hidden;
            transition: max-height 0.5s ease;
        }

        .pool-main-content.active {
            max-height: 3000px;
        }

        .accordion-section {
            margin-top: 30px;
        }

        .accordion-item {
            margin-bottom: 15px;
            border-radius: 15px;
            overflow: hidden;
            background: rgba(51, 65, 85, 0.5);
            border: 1px solid rgba(59, 130, 246, 0.3);
        }

        .accordion-header {
            padding: 20px;
            cursor: pointer;
            display: flex;
            justify-content: space-between;
            align-items: center;
            font-size: 1.1em;
            font-weight: 600;
            color: #60a5fa;
            transition: all 0.3s ease;
            user-select: none;
        }

        .accordion-header:hover {
            background: rgba(59, 130, 246, 0.1);
        }

        .accordion-arrow {
            transition: transform 0.3s ease;
            font-size: 0.8em;
        }

        .accordion-header.active .accordion-arrow {
            transform: rotate(180deg);
        }

        .accordion-content {
            max-height: 0;
            overflow: hidden;
            transition: max-height 0.4s ease;
        }

        .accordion-content.active {
            max-height: 1000px;
        }

        .accordion-inner {
            padding: 20px;
            line-height: 1.8;
            color: #cbd5e1;
        }

        .accordion-inner strong {
            color: #60a5fa;
        }

        .history-log {
            display: flex;
            flex-direction: column;
            gap: 15px;
        }

        .history-entry {
            background: rgba(30, 41, 59, 0.6);
            padding: 15px 20px;
            border-radius: 10px;
            border-left: 3px solid #3b82f6;
        }

        .history-date {
            font-size: 0.95em;
            color: #93c5fd;
            margin-bottom: 8px;
            font-weight: 600;
        }

        .history-details {
            font-size: 0.95em;
            line-height: 1.6;
        }

        .social-links {
            margin-top: 20px;
            padding-top: 20px;
            border-top: 1px solid rgba(59, 130, 246, 0.3);
        }

        .social-links-title {
            color: #93c5fd;
            font-size: 0.9em;
            margin-bottom: 12px;
            text-transform: uppercase;
            letter-spacing: 1px;
            font-weight: 600;
        }

        .social-buttons {
            display: flex;
            gap: 12px;
            flex-wrap: wrap;
        }

        .btn-small {
            padding: 10px 20px;
            border-radius: 20px;
            text-decoration: none;
            font-weight: 600;
            font-size: 0.9em;
            transition: all 0.3s ease;
            border: 2px solid #3b82f6;
            display: inline-flex;
            align-items: center;
            gap: 8px;
        }

        .btn-website-small {
            background: linear-gradient(135deg, #3b82f6, #60a5fa);
            color: #fff;
        }

        .btn-website-small:hover {
            transform: translateY(-2px);
            box-shadow: 0 8px 20px rgba(59, 130, 246, 0.4);
        }

        .btn-discord-small {
            background: linear-gradient(135deg, #5865f2, #7289da);
            color: #fff;
            border-color: #5865f2;
        }

        .btn-discord-small:hover {
            transform: translateY(-2px);
            box-shadow: 0 8px 20px rgba(88, 101, 242, 0.4);
        }

        footer {
            position: relative;
            z-index: 1;
            background: rgba(15, 23, 42, 0.9);
            backdrop-filter: blur(10px);
            padding: 40px 20px;
            margin-top: 60px;
            border-top: 1px solid rgba(59, 130, 246, 0.2);
        }

        .footer-content {
            max-width: 1200px;
            margin: 0 auto;
            text-align: center;
        }

        .footer-buttons {
            display: flex;
            justify-content: center;
            gap: 20px;
            margin-bottom: 30px;
            flex-wrap: wrap;
        }

        .btn {
            padding: 15px 40px;
            border-radius: 30px;
            text-decoration: none;
            font-weight: 600;
            font-size: 1.1em;
            transition: all 0.3s ease;
            border: 2px solid #3b82f6;
            display: inline-flex;
            align-items: center;
            gap: 10px;
        }

        .btn-website {
            background: linear-gradient(135deg, #3b82f6, #60a5fa);
            color: #fff;
        }

        .btn-website:hover {
            transform: translateY(-3px);
            box-shadow: 0 10px 30px rgba(59, 130, 246, 0.5);
        }

        .btn-discord {
            background: linear-gradient(135deg, #5865f2, #7289da);
            color: #fff;
            border-color: #5865f2;
        }

        .btn-discord:hover {
            transform: translateY(-3px);
            box-shadow: 0 10px 30px rgba(88, 101, 242, 0.5);
        }

        .disclaimer {
            background: rgba(30, 41, 59, 0.6);
            border-radius: 15px;
            padding: 25px;
            margin-top: 20px;
            border: 1px solid rgba(239, 68, 68, 0.3);
        }

        .disclaimer h3 {
            color: #f87171;
            margin-bottom: 15px;
            font-size: 1.3em;
        }

        .disclaimer p {
            color: #cbd5e1;
            line-height: 1.8;
            font-size: 0.95em;
        }

        .error-message {
            background: rgba(239, 68, 68, 0.2);
            border: 1px solid rgba(239, 68, 68, 0.5);
            padding: 15px;
            border-radius: 10px;
            color: #fca5a5;
            margin-top: 10px;
        }

        @keyframes fadeInDown {
            from {
                opacity: 0;
                transform: translateY(-30px);
            }
            to {
                opacity: 1;
                transform: translateY(0);
            }
        }

        @keyframes fadeInUp {
            from {
                opacity: 0;
                transform: translateY(30px);
            }
            to {
                opacity: 1;
                transform: translateY(0);
            }
        }
    </style>
</head>
<body>
    <canvas id="particles-canvas"></canvas>
    
    <div class="container">
        <header>
            <h1>üåü community Staking Pools</h1>
            <p class="subtitle">Stake, Earn, and Grow Together</p>
        </header>

        <!-- POOL 1: BXW => AGAR -->
        <div class="pool-wrapper" data-pool-id="pool1">
            <div class="pool-main-header" onclick="togglePoolMain(this)">
                <span>üíé Pool: BXW ‚áí AGAR</span>
                <span class="pool-main-arrow">‚ñº</span>
            </div>
            
            <div class="pool-main-content">
                <div class="card">
                    <h2>üìä Pool Information</h2>
                    <div class="pool-grid">
                        <div class="pool-item">
                            <div class="pool-label">Token to Stake</div>
                            <div class="pool-value">BXW</div>
                        </div>
                        <div class="pool-item">
                            <div class="pool-label">Token to Earn</div>
                            <div class="pool-value">AGAR</div>
                        </div>
                        <div class="pool-item">
                            <div class="pool-label">Total Given Away</div>
                            <div class="pool-value" id="total-pool1">
                                <span class="loading-indicator"></span>
                            </div>
                        </div>
                        <div class="pool-item">
                            <div class="pool-label">Pool Start Date</div>
                            <div class="pool-value">November 14, 2025</div>
                        </div>
                    </div>

                    <div class="accordion-section">
                        <div class="accordion-item">
                            <div class="accordion-header" onclick="toggleAccordion(this)">
                                <span>üìä About the Token You Stake</span>
                                <span class="accordion-arrow">‚ñº</span>
                            </div>
                            <div class="accordion-content">
                                <div class="accordion-inner">
                                    <strong>Token Name:</strong> BXW<br><br>
                                    <strong>Description:</strong>BXW is the native token of the blue collectible NFT project, the token can be used to stake to earn tokens but also can be used in there hunter game on discord. Blue collectible is building strong. With diffrent tools available to the community to use. An innovative project on the waxp chain.<br><br>
                                    <strong>Contract Address:</strong> token.bx <br><br>
                                    <strong>Why Stake This Token:</strong> By staking BXW, you support the project while earning rewards. It's a great way to put your tokens to work and earning those sweet rewards.
                                    
                                    <div class="social-links">
                                        <div class="social-links-title">üîó Social Links</div>
                                        <div class="social-buttons">
                                            <a href=" https://blueeyesdesc.com/" class="btn-small btn-website-small">
                                                üåê Website
                                            </a>
                                            <a href="https://discord.gg/EhB4mNZZUj" class="btn-small btn-discord-small">
                                                üí¨ Discord
                                            </a>
                                        </div>
                                    </div>
                                </div>
                            </div>
                        </div>

                        <div class="accordion-item">
                            <div class="accordion-header" onclick="toggleAccordion(this)">
                                <span>üéÅ About the Token You Earn</span>
                                <span class="accordion-arrow">‚ñº</span>
                            </div>
                            <div class="accordion-content">
                                <div class="accordion-inner">
                                    <strong>Token Name:</strong> AGAR<br><br>
                                    <strong>Description:</strong> The reward token is distributed to stakers as a thank you for participating in the pool. AGAR is a project on the waxp chain that offers diffrent utility, from fighting bosses in discord to extracting AGAR there is for every person something to do. You can stake this AGAR in the discord server or sell on the regular exchanges.<br><br>
                                    <strong>Contract Address:</strong> token.agar<br><br>
                                    <strong>Utility:</strong> Agar can be used to stake and earn bonus AGAR, the token is also important to upgrade and used in blends to upgrade trees,tools and gear.
                                    
                                    <div class="social-links">
                                        <div class="social-links-title">üîó Social Links</div>
                                        <div class="social-buttons">
                                            <a href="https://agarwoodsnft.io/home" class="btn-small btn-website-small">
                                                üåê Website
                                            </a>
                                            <a href="https://discord.gg/KdY3XgKDAn" class="btn-small btn-discord-small">
                                                üí¨ Discord
                                            </a>
                                        </div>
                                    </div>
                                </div>
                            </div>
                        </div>

                        <div class="accordion-item">
                            <div class="accordion-header" onclick="toggleAccordion(this)">
                                <span>üìú Pool History</span>
                                <span class="accordion-arrow">‚ñº</span>
                            </div>
                            <div class="accordion-content">
                                <div class="accordion-inner">
                                    <div class="history-log" id="history-pool1">
                                        <span class="loading-indicator"></span>
                                    </div>
                                </div>
                            </div>
                        </div>
                    </div>
                </div>
            </div>
        </div>

        <!-- TEMPLATE FOR ADDING MORE POOLS - COPY FROM HERE -->
        <!-- 
        <div class="pool-wrapper" data-pool-id="pool2">
            <div class="pool-main-header" onclick="togglePoolMain(this)">
                <span>üíé Pool: TOKEN1 ‚áí TOKEN2</span>
                <span class="pool-main-arrow">‚ñº</span>
            </div>
            
            <div class="pool-main-content">
                <div class="card">
                    <h2>üìä Pool Information</h2>
                    <div class="pool-grid">
                        <div class="pool-item">
                            <div class="pool-label">Token to Stake</div>
                            <div class="pool-value">TOKEN1</div>
                        </div>
                        <div class="pool-item">
                            <div class="pool-label">Token to Earn</div>
                            <div class="pool-value">TOKEN2</div>
                        </div>
                        <div class="pool-item">
                            <div class="pool-label">Total Given Away</div>
                            <div class="pool-value" id="total-pool2">
                                <span class="loading-indicator"></span>
                            </div>
                        </div>
                        <div class="pool-item">
                            <div class="pool-label">Pool Start Date</div>
                            <div class="pool-value">Date Here</div>
                        </div>
                    </div>

                    <div class="accordion-section">
                        [... rest of accordion items ...]
                        
                        <div class="accordion-item">
                            <div class="accordion-header" onclick="toggleAccordion(this)">
                                <span>üìú Pool History</span>
                                <span class="accordion-arrow">‚ñº</span>
                            </div>
                            <div class="accordion-content">
                                <div class="accordion-inner">
                                    <div class="history-log" id="history-pool2">
                                        <span class="loading-indicator"></span>
                                    </div>
                                </div>
                            </div>
                        </div>
                    </div>
                </div>
            </div>
        </div>
        -->
        <!-- END TEMPLATE -->

        <div class="card">
            <h2>üí∞ How I Fund The Pools</h2>
            <div class="funding-section">
                <div class="funding-item">
                    <div class="funding-percentage">90%</div>
                    <div class="funding-description">
                        From all the earned staking rewards on waxp (vote and staking rewards) will be swapped to fund rewards.
                    </div>
                </div>
                <div class="funding-item">
                    <div class="funding-percentage">30%</div>
                    <div class="funding-description">
                        The earnings from staking in discord, 30% of my AGAR earnings will be allocated to the pool.
                    </div>
                </div>
                <div class="funding-item">
                    <div class="funding-percentage">100%</div>
                    <div class="funding-description">
                        Any user or project that would like to support my initiative and donates rewards will be converted to AGAR and added to the pool.
                    </div>
                </div>
            </div>
        </div>

        <div class="card">
            <h2>üéØ My Mission</h2>
            <div class="mission-text">
                I believe in the power of community, while I don't have any own project I have seen around projects that people come together to do what they love. I think we need to support each other and this is my way to help people, stake tokens and earn rewards. 
                <br><br>
                All the rewards will be sponsored by myself, I don't have any direct income from a collection or things I sell, while I understand people would like big rewards I can't ensure that the rewards will be consistent and it might be lower then expected.
                <br><br>
                My goal is simple: honest rewards funded by someone who believes that sharing with people can make a difference.
            </div>
        </div>
    </div>

    <footer>
        <div class="footer-content">
            <div class="disclaimer">
                <h3>‚ö†Ô∏è Disclaimer</h3>
                <p>
                    This staking pool is provided as-is without any warranties. Cryptocurrency staking involves risks including but not limited to smart contract vulnerabilities, market volatility, and potential loss of funds. By participating, you acknowledge that you understand these risks and that the pool operator is not responsible for any losses incurred. This is not financial advice. Always do your own research (DYOR) before staking any tokens. Past performance does not guarantee future results. Rewards are subject to change based on pool funding availability. The duration of the pool might be not extended at any point, rewards are not a guarantee and this is only out of free will and doesn't makes me responsible for any further rewards.
                    <br><br>
                    For any further questions or problems with the pools I provide feel free to contact me on discord.
                </p>
                <br>
                <a href="https://discord.com/users/1105533301504094310" class="btn btn-discord">
                    üí¨ Contact me on discord
                </a>
            </div>
        </div>
    </footer>

    <script>
        // ====================================
        // CONFIGURATION - EDIT THIS SECTION
        // ====================================
        
        // Google Sheets Configuration
        // To set this up:
        // 1. Create a Google Sheet with these columns: PoolID | Date | Amount | ExtendedUntil | TokenSymbol
        // 2. Go to File > Share > Publish to web
        // 3. Choose "Entire Document" and "Comma-separated values (.csv)"
        // 4. Copy the URL and paste it below
        
        const GOOGLE_SHEET_CSV_URL = 'https://docs.google.com/spreadsheets/d/e/2PACX-1vQnm1B5HjV7M_Ig3ZrhcxmnqKLmiGZX4nLn6ckBKZP-EmH3hm9-6eDL0V3vW9hvnSDTUQeZSU8Kkm71/pub?output=csv';
        
        // Example sheet structure:
        // | PoolID | Date       | Amount | ExtendedUntil | TokenSymbol |
        // |--------|------------|--------|---------------|-------------|
        // | pool1  | 2025-11-14 | 10000  | 2025-12-14    | AGAR        |
        // | pool1  | 2025-11-20 | 5000   | 2025-12-20    | AGAR        |
        // | pool2  | 2025-11-15 | 20000  | 2025-12-15    | TOKEN       |

        // ====================================
        // END CONFIGURATION
        // ====================================

        // Function to format numbers with commas
        function formatNumber(num) {
            return num.toString().replace(/\B(?=(\d{3})+(?!\d))/g, ",");
        }

        // Function to parse CSV
        function parseCSV(csv) {
            const lines = csv.split('\n');
            const headers = lines[0].split(',').map(h => h.trim());
            const data = [];
            
            for (let i = 1; i < lines.length; i++) {
                if (lines[i].trim() === '') continue;
                
                const values = lines[i].split(',').map(v => v.trim());
                const entry = {};
                
                headers.forEach((header, index) => {
                    entry[header] = values[index];
                });
                
                data.push(entry);
            }
            
            return data;
        }

        // Function to load data from Google Sheets
        async function loadPoolData() {
            // Check if URL is configured
            if (!GOOGLE_SHEET_CSV_URL) {
                console.warn('Google Sheets URL not configured. Using fallback data.');
                useFallbackData();
                return;
                }

           // if (GOOGLE_SHEET_CSV_URL === 'https://docs.google.com/spreadsheets/d/e/2PACX-1vQnm1B5HjV7M_Ig3ZrhcxmnqKLmiGZX4nLn6ckBKZP-EmH3hm9-6eDL0V3vW9hvnSDTUQeZSU8Kkm71/pub?output=csv') {
              //  console.warn('Google Sheets URL not configured. Using fallback data.');
               // useFallbackData();
               // return;
          //  }

            try {
                const response = await fetch(GOOGLE_SHEET_CSV_URL);
                
                if (!response.ok) {
                    throw new Error('Failed to fetch data');
                }
                
                const csvText = await response.text();
                const data = parseCSV(csvText);
                
                // Group data by pool
                const poolData = {};
                data.forEach(entry => {
                    const poolId = entry.PoolID || entry.poolid || entry.poolId;
                    if (!poolData[poolId]) {
                        poolData[poolId] = [];
                    }
                    poolData[poolId].push(entry);
                });
                
                // Update each pool
                Object.keys(poolData).forEach(poolId => {
                    updatePoolDisplay(poolId, poolData[poolId]);
                });
                
            } catch (error) {
                console.error('Error loading pool data:', error);
                showError('Unable to load pool history. Please try again later.');
                useFallbackData();
            }
        }

        // Function to use fallback data when Google Sheets is not configured
        function useFallbackData() {
            
            const fallbackData = {
                pool1: [
                    {
                        Date: '2025-11-14',
                        Amount: '10000',
                        ExtendedUntil: '2025-12-14',
                        TokenSymbol: 'TEST'
                    }
                ]
            };
            
            Object.keys(fallbackData).forEach(poolId => {
                updatePoolDisplay(poolId, fallbackData[poolId]);
            });
        }

        // Function to update pool display
        function updatePoolDisplay(poolId, entries) {
            // Calculate total
            let total = 0;
            entries.forEach(entry => {
                const amount = parseFloat(entry.Amount || entry.amount || 0);
                total += amount;
            });
            
            const tokenSymbol = entries[0]?.TokenSymbol || entries[0]?.tokensymbol || 'Tokens';
            
            // Update total display
            const totalElement = document.getElementById(`total-${poolId}`);
            if (totalElement) {
                totalElement.innerHTML = `${formatNumber(total)} ${tokenSymbol}`;
            }
            
            // Update history display
            const historyElement = document.getElementById(`history-${poolId}`);
            if (historyElement) {
                if (entries.length === 0) {
                    historyElement.innerHTML = '<p style="color: #93c5fd;">No history entries yet.</p>';
                } else {
                    historyElement.innerHTML = entries.map(entry => {
                        const date = entry.Date || entry.date || 'N/A';
                        const amount = formatNumber(parseFloat(entry.Amount || entry.amount || 0));
                        const extendedUntil = entry.ExtendedUntil || entry.extendeduntil || 'N/A';
                        const OwnerComment = entry.OwnerComment || entry.OwnerComment || 'None';

                        
                        return `
                            <div class="history-entry">
                                <div class="history-date">üìÖ ${date}</div>
                                <div class="history-details">
                                    <strong>Rewards Added:</strong> ${amount} ${tokenSymbol}<br>
                                    <strong>Pool Extended Until:</strong> ${extendedUntil} <br>
                                    <strong>Comment:</strong> ${OwnerComment}
                                </div>
                            </div>
                        `;
                    }).join('');
                }
            }
        }

        // Function to show error message
        function showError(message) {
            document.querySelectorAll('.history-log').forEach(log => {
                if (log.querySelector('.loading-indicator')) {
                    log.innerHTML = `<div class="error-message">${message}</div>`;
                }
            });
        }

        // Toggle functions
        function togglePoolMain(header) {
            const content = header.nextElementSibling;
            const isActive = header.classList.contains('active');
            
            if (isActive) {
                header.classList.remove('active');
                content.classList.remove('active');
            } else {
                header.classList.add('active');
                content.classList.add('active');
            }
        }

        function toggleAccordion(header) {
            const content = header.nextElementSibling;
            const isActive = header.classList.contains('active');
            
            const allHeaders = header.closest('.pool-main-content').querySelectorAll('.accordion-header');
            const allContents = header.closest('.pool-main-content').querySelectorAll('.accordion-content');
            
            allHeaders.forEach(h => h.classList.remove('active'));
            allContents.forEach(c => c.classList.remove('active'));
            
            if (!isActive) {
                header.classList.add('active');
                content.classList.add('active');
            }
        }

        // Particle Animation
        const canvas = document.getElementById('particles-canvas');
        const ctx = canvas.getContext('2d');

        canvas.width = window.innerWidth;
        canvas.height = window.innerHeight;

        const particles = [];
        const particleCount = 100;

        class Particle {
            constructor() {
                this.x = Math.random() * canvas.width;
                this.y = Math.random() * canvas.height;
                this.vx = (Math.random() - 0.5) * 0.5;
                this.vy = (Math.random() - 0.5) * 0.5;
                this.radius = Math.random() * 2 + 1;
                this.opacity = Math.random() * 0.5 + 0.2;
            }

            update() {
                this.x += this.vx;
                this.y += this.vy;

                if (this.x < 0 || this.x > canvas.width) this.vx *= -1;
                if (this.y < 0 || this.y > canvas.height) this.vy *= -1;
            }

            draw() {
                ctx.beginPath();
                ctx.arc(this.x, this.y, this.radius, 0, Math.PI * 2);
                ctx.fillStyle = `rgba(59, 130, 246, ${this.opacity})`;
                ctx.fill();
            }
        }

        for (let i = 0; i < particleCount; i++) {
            particles.push(new Particle());
        }

        function connectParticles() {
            for (let i = 0; i < particles.length; i++) {
                for (let j = i + 1; j < particles.length; j++) {
                    const dx = particles[i].x - particles[j].x;
                    const dy = particles[i].y - particles[j].y;
                    const distance = Math.sqrt(dx * dx + dy * dy);

                    if (distance < 150) {
                        ctx.beginPath();
                        ctx.strokeStyle = `rgba(96, 165, 250, ${0.2 * (1 - distance / 150)})`;
                        ctx.lineWidth = 0.5;
                        ctx.moveTo(particles[i].x, particles[i].y);
                        ctx.lineTo(particles[j].x, particles[j].y);
                        ctx.stroke();
                    }
                }
            }
        }

        function animate() {
            ctx.clearRect(0, 0, canvas.width, canvas.height);

            particles.forEach(particle => {
                particle.update();
                particle.draw();
            });

            connectParticles();

            requestAnimationFrame(animate);
        }

        animate();

        window.addEventListener('resize', () => {
            canvas.width = window.innerWidth;
            canvas.height = window.innerHeight;
        });

        // Add stagger animation to cards
        const cards = document.querySelectorAll('.card');
        cards.forEach((card, index) => {
            card.style.animationDelay = `${index * 0.2}s`;
        });

        // Load pool data on page load
        window.addEventListener('DOMContentLoaded', () => {
            loadPoolData();
        });
    </script>
</body>
</html>